import{S as K,i as Q,s as W,j as p,p as C,a as A,k as _,l as y,q as I,g as f,c as D,m as h,n as X,b as S,C as u,D as Y,B as L,E as j,e as $,F as Z,r as P,G as x}from"../../chunks/index-4bd7e4f6.js";const ee=["DUOA","Manager","PM"];async function te(r){const t=(await r.text()).split(/\r\n/g).map(s=>({name:s.split(",")[0],status:s.split(",")[1],team:s.split(",")[2]})).filter(s=>!ee.includes(s.status)),n=[];return{persons:t.map(s=>{const m={name:s.name,team:{index:n.length,name:s.team}};return n.includes(s.team)||n.push(s.team),m}),teams:n}}function le(r){const e=[];for(let l=0;l<r.teams.length;l++){const t=r.persons.filter(a=>a.team.index===l),n=r.persons.filter(a=>a.team.index>l);for(let a=0;a<t.length;a++)for(let s=0;s<n.length;s++)e.push({a:t[a],b:n[s]})}return e}async function q(r){const e=document.getElementById("button"),l=document.getElementById("header"),t=document.getElementById("label"),n=document.getElementById("logo"),a=document.getElementById("title");try{const s=await te(r),m=le(s);return l!=null&&(l.style.height="4rem"),n!=null&&(n.style.fontSize="2rem"),a!=null&&(a.style.fontSize="1.5rem",a.style.marginBottom="1rem"),t!=null&&(t.textContent="Upload an other CSV file"),e!=null&&(e.style.backgroundColor="#27ae60"),m}catch(s){throw t!=null&&(t.textContent="Upload an other CSV file"),e!=null&&(e.style.backgroundColor="#e74c3c"),s}}function z(r,e,l){const t=r.slice();return t[4]=e[l],t}function F(r){let e,l,t={ctx:r,current:null,token:null,hasCatch:!0,pending:se,then:ae,catch:ne,value:3,error:7};return j(l=q(r[0][0]),t),{c(){e=$(),t.block.c()},l(n){e=$(),t.block.l(n)},m(n,a){S(n,e,a),t.block.m(n,t.anchor=a),t.mount=()=>e.parentNode,t.anchor=e},p(n,a){r=n,t.ctx=r,a&1&&l!==(l=q(r[0][0]))&&j(l,t)||Z(t,r,a)},d(n){n&&f(e),t.block.d(n),t.token=null,t=null}}}function ne(r){let e,l=r[7].message+"",t;return{c(){e=p("p"),t=C(l),this.h()},l(n){e=_(n,"P",{class:!0});var a=y(e);t=I(a,l),a.forEach(f),this.h()},h(){h(e,"class","error")},m(n,a){S(n,e,a),u(e,t)},p(n,a){a&1&&l!==(l=n[7].message+"")&&P(t,l)},d(n){n&&f(e)}}}function ae(r){let e,l=r[3].length!==0&&O(r);return{c(){l&&l.c(),e=$()},l(t){l&&l.l(t),e=$()},m(t,n){l&&l.m(t,n),S(t,e,n)},p(t,n){t[3].length!==0?l?l.p(t,n):(l=O(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&f(e)}}}function O(r){let e,l,t,n,a,s,m,E,d=r[3],o=[];for(let i=0;i<d.length;i+=1)o[i]=J(z(r,d,i));return{c(){e=p("table"),l=p("tr"),t=p("th"),n=C("A"),a=A(),s=p("th"),m=C("B"),E=A();for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){e=_(i,"TABLE",{class:!0});var b=y(e);l=_(b,"TR",{});var c=y(l);t=_(c,"TH",{});var B=y(t);n=I(B,"A"),B.forEach(f),a=D(c),s=_(c,"TH",{});var k=y(s);m=I(k,"B"),k.forEach(f),c.forEach(f),E=D(b);for(let R=0;R<o.length;R+=1)o[R].l(b);b.forEach(f),this.h()},h(){h(e,"class","table")},m(i,b){S(i,e,b),u(e,l),u(l,t),u(t,n),u(l,a),u(l,s),u(s,m),u(e,E);for(let c=0;c<o.length;c+=1)o[c].m(e,null)},p(i,b){if(b&1){d=i[3];let c;for(c=0;c<d.length;c+=1){const B=z(i,d,c);o[c]?o[c].p(B,b):(o[c]=J(B),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=d.length}},d(i){i&&f(e),x(o,i)}}}function J(r){let e,l,t=r[4].a.name+"",n,a,s,m=r[4].b.name+"",E,d;return{c(){e=p("tr"),l=p("td"),n=C(t),a=A(),s=p("td"),E=C(m),d=A()},l(o){e=_(o,"TR",{});var i=y(e);l=_(i,"TD",{});var b=y(l);n=I(b,t),b.forEach(f),a=D(i),s=_(i,"TD",{});var c=y(s);E=I(c,m),c.forEach(f),d=D(i),i.forEach(f)},m(o,i){S(o,e,i),u(e,l),u(l,n),u(e,a),u(e,s),u(s,E),u(e,d)},p(o,i){i&1&&t!==(t=o[4].a.name+"")&&P(n,t),i&1&&m!==(m=o[4].b.name+"")&&P(E,m)},d(o){o&&f(e)}}}function se(r){let e,l;return{c(){e=p("p"),l=C("...loading"),this.h()},l(t){e=_(t,"P",{class:!0});var n=y(e);l=I(n,"...loading"),n.forEach(f),this.h()},h(){h(e,"class","loader")},m(t,n){S(t,e,n),u(e,l)},p:L,d(t){t&&f(e)}}}function re(r){let e,l,t,n,a,s,m,E,d,o,i,b,c,B,k,R,H,g=r[0]&&r[0][0]&&F(r);return{c(){e=p("header"),l=p("p"),t=C("Randmeet"),n=A(),a=p("main"),s=p("h1"),m=C("Generate randomly your meetings"),E=A(),d=p("div"),o=p("label"),i=C("Upload your CSV file"),b=A(),c=p("input"),B=A(),k=p("div"),g&&g.c(),this.h()},l(v){e=_(v,"HEADER",{id:!0,class:!0});var T=y(e);l=_(T,"P",{id:!0,class:!0});var N=y(l);t=I(N,"Randmeet"),N.forEach(f),T.forEach(f),n=D(v),a=_(v,"MAIN",{class:!0});var U=y(a);s=_(U,"H1",{id:!0,class:!0});var w=y(s);m=I(w,"Generate randomly your meetings"),w.forEach(f),E=D(U),d=_(U,"DIV",{id:!0,class:!0});var V=y(d);o=_(V,"LABEL",{id:!0,for:!0});var G=y(o);i=I(G,"Upload your CSV file"),G.forEach(f),b=D(V),c=_(V,"INPUT",{type:!0,accept:!0,id:!0,style:!0}),V.forEach(f),B=D(U),k=_(U,"DIV",{class:!0});var M=y(k);g&&g.l(M),M.forEach(f),U.forEach(f),this.h()},h(){h(l,"id","logo"),h(l,"class","logo"),h(e,"id","header"),h(e,"class","header"),h(s,"id","title"),h(s,"class","title"),h(o,"id","label"),h(o,"for","file"),h(c,"type","file"),h(c,"accept",".csv"),h(c,"id","file"),X(c,"display","none"),h(d,"id","button"),h(d,"class","button"),h(k,"class","content"),h(a,"class","main")},m(v,T){S(v,e,T),u(e,l),u(l,t),S(v,n,T),S(v,a,T),u(a,s),u(s,m),u(a,E),u(a,d),u(d,o),u(o,i),u(d,b),u(d,c),u(a,B),u(a,k),g&&g.m(k,null),R||(H=Y(c,"change",r[2]),R=!0)},p(v,[T]){v[0]&&v[0][0]?g?g.p(v,T):(g=F(v),g.c(),g.m(k,null)):g&&(g.d(1),g=null)},i:L,o:L,d(v){v&&f(e),v&&f(n),v&&f(a),g&&g.d(),R=!1,H()}}}function oe(r,e,l){let t;function a(){t=this.files,l(0,t)}return[t,!0,a]}class ce extends K{constructor(e){super(),Q(this,e,oe,re,W,{prerender:1})}get prerender(){return this.$$.ctx[1]}}export{ce as default};
